cd /opt/color-routing-orchestrator

# Step 5: Create and use Python virtual environment
python3 -m venv venv
./venv/bin/pip install --upgrade pip
./venv/bin/pip install fastapi uvicorn asyncpg pydantic aiofiles python-multipart

# Add PYTHON_BIN to .env
echo "PYTHON_BIN=/opt/color-routing-orchestrator/venv/bin/python3" >> .env

# Step 7: Build frontend
npm run build

# Step 8: Database migrations
npm run db:push

# Restart service
sudo systemctl daemon-reload
sudo systemctl restart color-routing-orchestrator
Error: [Errno 13] Permission denied: '/opt/color-routing-orchestrator/venv'
-bash: ./venv/bin/pip: No such file or directory
-bash: ./venv/bin/pip: No such file or directory
-bash: .env: Permission denied

> rest-express@1.0.0 build
> tsx script/build.ts

building client...
failed to load config from /opt/color-routing-orchestrator/vite.config.ts
Error: EACCES: permission denied, open '/opt/color-routing-orchestrator/vite.config.ts.timestamp-1769756169816-1024486bd6ca9.mjs'
    at async open (node:internal/fs/promises:634:25)
    at async Object.writeFile (node:internal/fs/promises:1206:14)
    at async loadConfigFromBundledFile (/opt/color-routing-orchestrator/node_modules/vite/dist/node/chunks/config.js:35905:3)
    at async bundleAndLoadConfigFile (/opt/color-routing-orchestrator/node_modules/vite/dist/node/chunks/config.js:35795:17)
    at async loadConfigFromFile (/opt/color-routing-orchestrator/node_modules/vite/dist/node/chunks/config.js:35762:42)
    at async resolveConfig (/opt/color-routing-orchestrator/node_modules/vite/dist/node/chunks/config.js:35411:22)
    at async createBuilder (/opt/color-routing-orchestrator/node_modules/vite/dist/node/chunks/config.js:33874:19)
    at async build$1 (/opt/color-routing-orchestrator/node_modules/vite/dist/node/chunks/config.js:33436:18)
    at async buildAll (/opt/color-routing-orchestrator/script/build.ts:39:3) {
  errno: -13,
  code: 'EACCES',
  syscall: 'open',
  path: '/opt/color-routing-orchestrator/vite.config.ts.timestamp-1769756169816-1024486bd6ca9.mjs'
}
npm notice
npm notice New major version of npm available! 10.8.2 -> 11.8.0
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.8.0
npm notice To update run: npm install -g npm@11.8.0
npm notice

> rest-express@1.0.0 db:push
> drizzle-kit push

No config path provided, using default 'drizzle.config.ts'
Reading config file '/opt/color-routing-orchestrator/drizzle.config.ts'
DATABASE_URL, ensure the database is provisioned
Failed to restart color-routing-orchestrator.service: Unit color-routing-orchestrator.service not found.
